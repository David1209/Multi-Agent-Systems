to bounce  ;; turtle procedure
  ; check: hitting left or right wall?
  if ( [pcolor] of patch-ahead -0.5 = (grey - 0.1) ) [
    ; if so, reflect heading around x axis
    set heading (- heading)   
  ]
  if ( [pcolor] of patch-ahead -0.5 = (grey + 0.1) ) [
    ; if so, reflect heading arouny axis
    set heading (180 - heading)
  ]
end


to setup-beliefs [pos v-rad h-rad playstyle]  ;-player procedure
  set incoming_messages []
  set outgoing_messages []
  
  set beliefs table:make
 
  table:put beliefs "has-ball" false
  table:put beliefs "team-has-ball" false
  table:put beliefs "playstyle" playstyle
  table:put beliefs "own-loc" pos
  table:put beliefs "team-loc" []
  table:put beliefs "oppo-loc" []
  table:put beliefs "vis-rad" v-rad
  table:put beliefs "snd-rad" h-rad
end

; --- helper functions ---
to-report in [l i] ; returns true if i in l; false o.w.
  let ans false
  foreach l [
    if (? = i) [
      set ans true
    ]
  ]
  report ans
end